<!DOCTYPE html>
<html>
	<head>
		<title>Where Am I?</title>

		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
		<script type="text/javascript" charset="utf-8">
			// Wait for Cordova to load
			//
			document.addEventListener("deviceready", onDeviceReady, false);

			// Cordova is ready
			//
			function onDeviceReady() {
				startGeoLocate();
				// Run the startGeoLocate function
			}

			function startGeoLocate() {

				var options = {
					maximumAge: 3000, 
					timeout: 5000, 
					enableHighAccuracy: true
				};

				navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
			}

			// onSuccess Geolocation
			//
			function onSuccess(position) {
				var element = document.getElementById('geolocation');
				element.innerHTML = 'Latitude: ' + position.coords.latitude + '<br />' + 
									'Longitude: ' + position.coords.longitude + '<br />' + 
									'Altitude: ' + position.coords.altitude + '<br />' + 
									'Accuracy: ' + position.coords.accuracy + '<br />' + 
									'Altitude Accuracy: ' + position.coords.altitudeAccuracy + '<br />' + 
									'Heading: ' + position.coords.heading + '<br />' + 
									'Speed: ' + position.coords.speed + '<br />' + 
									'Timestamp: ' + position.timestamp + '<br />' + 
									'<a href="http://www.malimish.com/_locate.php?lat=' + position.coords.latitude + '&long=' + position.coords.longitude + '">Post Location</a><br />' + 
									'<a href="http://maps.google.com/?ll=' + position.coords.latitude + ',' + position.coords.longitude + '&z=13">See in Google Maps</a><br />';
			}

			// onError Callback receives a PositionError object
			//
			function onError(error) {
				alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
			}

		</script>
	</head>
	<body>
		<p id="geolocation">
			Finding geolocation...
		</p>
	</body>
</html>
